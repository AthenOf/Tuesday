<html>
    <head>
        <script type="text/javascript" src="../tuesday.js"></script>
        <title>Insurance in post apocalypse</title>
        <style>
        body {
            background-color: #fff;
            border-collapse: collapse;
            border: none;
            margin: 0;
            padding: 0;
            border: 0;
            border-spacing: 0px;
            font-family: Arial;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            color: #fff;
        }
        .buttons {
            border: 3px solid;
            border-color: #cfad9c;
            border-radius:64px;
            transform: translateX(50%);
            background-color: rgba(74,64,69,0.7);
            transition-duration: 0.8s;
        }
        .buttons:hover {
            border-color: #fff;
            background-color: rgba(74,64,69,1);
            transition-duration: 0.3s;
        }
        .buttons:active {
            background-color: rgba(207,173,156,0.7);
            transition-duration: 0.1s;
        }
        #text_view {vertical-align: top; padding: 25px;}
        #text_block {
            background-image: linear-gradient(rgba(74,64,69,0.7), rgba(207,173,156,0.7));
            border: 3px solid;
            border-color: #cfad9c;
            border-radius:25px;
            color: #cfad9c;
        }
        #toast{
            position: fixed;
            opacity: 0;
            top: -10%;
            z-index: 1000;
        }
        .toast_anim{
            left: 50%;
            transform: translateX(-50%);
            height: 48px;
            width: 256px;
            background-color: rgba(74,64,69,0.7);
            border-radius: 24px;
            border: 3px solid rgba(207,173,156,0.7);
            animation: viwe 0.25s, stop 2s 0.25s, close 0.5s 2s linear;
        }
        @keyframes viwe {
          from {opacity: 0; top: 8px}
          to {opacity: 1; top: 8px}
        }
        @keyframes stop {
          from {opacity: 1; top: 8px}
          to {opacity: 1; top: 8px}
        }
        @keyframes close {
          from {opacity: 1; top: 8px}
          to {opacity: 0; top: -32px}
        }
        
        </style>
        <script>
            let data = {
                "parameters": {
                    "text_panel": {
                        "size_panel": ["95%","25%"],
                        "indent_bottom": "32px",
                        "size_text": "20px",
                        "className": "textPanel",
                        "dialog_speed": 10
                    },
                    "name_panel": {
                        "size_panel": ["0","48px"],
                        "position": ["48px","0","-26px","0"],
                        "indent_text": "0 24px ",
                        "size_text": "18px"
                    },
                    "key": {
                        "save_stag": "s",
                        "load_stag": "l",
                        "launch_story": "Escape",
                        "next": "ArrowRight",
                        "back": "ArrowLeft"
                    },
                    "launch_story": "main_menu",
                    "languares": ["ru","ja", "en"],
                    "title": {
                        "ru": "Страхование в пустоши",
                        "en": "Insurance in wasteland",
                        "ja": "荒れ地の保険"
                    },
                    "subject_choice": {
                        "ointment": 10,
                        "chantal": 0,
                        "scarlet": 0
                    },
                    "buttons": [
                        {
                            "name": "back",
                            "art":"img/back.svg",
                            "art_size": ["24px","24px"],
                            "position": ["0","55%","0","8px"],
                            "size": ["48px","48px"],
                            "className": "buttons",
                            "indent_text": "0 24px ",
                            "size_text": "18px",
                            "sound":"audio/click"
                        },{
                            "name": "next",
                            "art":"img/next.svg",
                            "art_size": ["24px","24px"],
                            "position": ["55%","0","0","8px"],
                            "size": ["48px","48px"],
                            "className": "buttons",
                            "indent_text": "0 24px ",
                            "size_text": "18px",
                            "sound":"audio/click"
                        },{
                            "name": "home",
                            "art":"img/menu.svg",
                            "art_size": ["24px","24px"],
                            "position": ["0","50%","0","8px"],
                            "size": ["48px","48px"],
                            "className": "buttons",
                            "indent_text": "0 24px ",
                            "size_text": "18px",
                            "sound":"audio/click"
                        },{
                            "name": "save",
                            "art":"img/save.svg",
                            "art_size": ["48px","48px"],
                            "position": ["10px","0","8px","0"],
                            "size": ["48px","48px"],
                            "className": "buttons",
                            "indent_text": "0 24px ",
                            "size_text": "18px",
                            "sound":"audio/click"
                        },{
                            "name": "load",
                            "art":"img/load.svg",
                            "art_size": ["48px","48px"],
                            "position": ["128px","0","8px","0"],
                            "size": ["48px","48px"],
                            "className": "buttons",
                            "indent_text": "0 24px ",
                            "size_text": "18px",
                            "sound":"audio/click"
                        }
                    ]
                },
                "main_menu":[
                    {
                        "background_image":  "img/cover.jpg",
                        "dialogs":[
                            {
                                "color_panel": "rgba(0,0,0,0.5)",
                                "color_text": "#fff",
                                "art": [
                                    {
                                        "style": "transform: translateX(-50%) translateY(-50%);",
                                        "url": "img/char.png",
                                        "position": ["75%","0","75%","0"],
                                        "size": ["auto","50%"]
                                    },{
                                        "style": "transform: translateX(-50%) translateY(-50%);",
                                        "url":{
                                            "ru":"img/logo_ru.png",
                                            "ja":"img/logo_ja.png",
                                            "en":"img/logo_en.png"
                                        },
                                        "position": ["50%","0","15%","0"],
                                        "size": ["50%","auto"]
                                    }
                                ],
                                "select": [
                                    {
                                        "go_to": "prolog",
                                        "position": ["16px","0","0","55%"],
                                        "size": ["188px","48px"],
                                        "className": "buttons",
                                        "text": {
                                            "ru":"Начать"
                                        }
                                    },{
                                        "go_to": "load",
                                        "position": ["16px","0","0","40%"],
                                        "size": ["188px","48px"],
                                        "className": "buttons",
                                        "text": {
                                            "ru":"Продолжить"
                                        }
                                    },{
                                        "go_to": "epizods",
                                        "position": ["16px","0","0","25%"],
                                        "size": ["188px","48px"],
                                        "className": "buttons",
                                        "text": {
                                            "ru":"Эпизоды"
                                        }
                                    },{
                                        "go_to": "bonus",
                                        "position": ["16px","0","0","10%"],
                                        "size": ["188px","48px"],
                                        "className": "buttons",
                                        "text": {
                                            "ru":"Бонусы"
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ],
                 "prolog": [
                     {
                            "background_image":  "img/cover.jpg",
                            "dialogs":[
                             {
                                 "text": {
                                     "ru":"Идет 110й год календаря новой эпохи.",
                                     "en":"",
                                     "ja":""
                                 }
                             },{
                                 "text": {
                                     "ru":"Прошлая эпоха закончилась весьма плачевно: мировой войной, эпидемией, и, на закуску, инопланетным вторжением.",
                                     "en":"",
                                     "ja":""
                                 }
                             },{
                                 "text": {
                                     "ru":"В конце концов, люди дошли до использования ядерного оружия, из-за чего большая часть Земли стала выжженной пустыней, зараженной радиацией.",
                                     "en":"",
                                     "ja":""
                                 }
                             },{
                                 "text": {
                                     "ru":"Однако, Человечество выжило и адаптировалось к новым условиям.",
                                     "en":"",
                                     "ja":""
                                 }
                             },{
                                 "text": {
                                     "ru":"На обломках былой цивилизации возникли города-государства - Метрополисы.",
                                     "en":"",
                                     "ja":""
                                 }
                             },{
                                 "text": {
                                     "ru":"За их пределами - дикие земли, или, как их еще называют - пустоши.",
                                     "en":"",
                                     "ja":""
                                 }
                             },{
                                "text": {
                                    "ru":"Несмотря на радиацию, там тоже живут люди.",
                                    "en":"",
                                    "ja":""
                                },
                                "go_to": "main_menu"
                             }
                         ]
                     }
                ]
            };
        
            // Add-on Toast
            function toast (message) {
                var x = document.getElementById("toast");
                x.classList.remove("toast_anim");
                document.getElementById('toast_message').innerHTML = message
                void x.offsetParent;
                x.classList.add("toast_anim");
            }
            function toastEvent () {
                document.getElementById('save').addEventListener('click',function(){toast("save")})
                document.getElementById('load').addEventListener('click',function(){toast("load")})
            }
            // Add-on Toast
            
        </script>
    </head>
    <body onload="load_story('data', data), toastEvent()">
        <div id='tuesday' style='width:100vw; height:100vh;'>
        </div>
        <!--Add-on Toast-->
        <div id="toast">
            <table border="0" height="100%" width="100%">
                <tbody>
                    <tr>
                        <td align="center" valign="center" >
                            <div id="toast_message"></div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
         <!--Add-on Toast-->
    </body>
</html>
